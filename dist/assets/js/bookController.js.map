{"version":3,"file":"bookController.js","sources":["../../../src/server/enum/Book.ts","../../../src/server/model/Book.ts","../../../src/assets/text/The-first-and-last-freedom.ts","../../../src/server/service/bookService.ts","../../../src/server/model/Paragraph.ts","../../../src/server/service/paragraphService.ts","../../../src/server/common/code.ts","../../../src/server/common/response.ts","../../../src/server/controller/bookController.ts"],"sourcesContent":["export enum BookMode {\n  SHUFFLE = 0,\n  INORDER,\n}\n","import { IBook, db } from '../db/database';\nimport { BookMode } from '../enum/Book';\n\nexport default class Book implements IBook {\n  id: number;\n  name: string;\n  size: number;\n  createTime: number;\n  paragraphCount: number;\n  cursor: number;\n  mode?: number;\n\n  constructor(name: string, size: number, paragraphCount: number, createTime?: number, id?: number, mode?: number, cursor?: number) {\n    this.name = name;\n    this.size = size;\n    this.paragraphCount = paragraphCount;\n\n    if (createTime) {\n      this.createTime = createTime;\n    } else {\n      this.createTime = Number(new Date());\n    }\n\n    if (id) {\n      this.id = id;\n    }\n\n    if (cursor) {\n      this.cursor = cursor;\n    } else {\n      this.cursor = 0;\n    }\n\n    if (mode) {\n      this.mode = mode;\n    } else {\n      this.mode = BookMode.SHUFFLE;\n    }\n  }\n}\n\ndb.books.mapToClass(Book);\n","export default [\n  'Foreword',\n  'Man is an amphibian who lives simultaneously in two worlds – the given and the home-made, the world of matter, life and consciousness and the world of symbols. In our thinking we make use of a great variety of symbol-systems – linguistic, mathematical, pictorial, musical, ritualistic. Without such symbol-systems we should have no art, no science, no law, no philosophy, not so much as the rudiments of civilization: in other words, we should be animals.',\n  'Symbols, then, are indispensable. But symbols – as the history of our own and every other age makes so abundantly clear – can also be fatal. Consider, for example, the domain of science on the one hand, the domain of politics and religion on the other. Thinking in terms of, and acting in response to, one set of symbols, we have come, in some small measure, to understand and control the elementary forces of nature. Thinking in terms of, and acting in response to, another set of symbols, we use these forces as instruments of mass murder and collective suicide. In the first case the explanatory symbols were well chosen, carefully analysed and progressively adapted to the emergent facts of physical existence. In the second case symbols originally ill-chosen were never subjected to thoroughgoing analysis and never reformulated so as to harmonize with the emergent facts of human existence. Worse still, these misleading symbols were everywhere treated with a wholly unwarranted respect, as though, in some mysterious way, they were more real than the realities to which they referred. In the contexts of religion and politics, words are not regarded as standing, rather inadequately, for things and events; on the contrary, things and events are regarded as particular illustrations of words.',\n  'Up to the present symbols have been used realistically only in those fields which we do not feel to be supremely important. In every situation involving our deeper impulses we have insisted on using symbols, not merely unrealistically, but idolatrously, even insanely. The result is that we have been able to commit, in cold blood and over long periods of time, acts of which the brutes are capable only for brief moments and at the frantic height of rage, desire or fear. Because they use and worship symbols, men can become idealists; and, being idealists, they can transform the animal’s intermittent greed into the grandiose imperialisms of a Rhodes or a J. P. Morgan; the animal’s intermittent love of bullying into Stalinism or the Spanish Inquisition; the animal’s intermittent attachment to its territory into the calculated frenzies of nationalism. Happily, they can also transform the animal’s intermittent kindliness into the lifelong charity of an Elizabeth Fry or a Vincent de Paul; the animal’s intermittent devotion to its mate and its young into that reasoned and persistent cooperation which, up to the present, has proved strong enough to save the world from the consequences of the other, the disastrous kind of idealism. Will it go on being able to save the world? The question cannot be answered. All we can say is that, with the idealists of nationalism holding the A-bomb, the odds in favour of the idealists of cooperation and charity have sharply declined.',\n  'Even the best cookery book is no substitute for even the worst dinner. The fact seems sufficiently obvious. And yet, throughout the ages, the most profound philosophers, the most learned and acute theologians have constantly fallen into the error of identifying their purely verbal constructions with facts, or into the yet more enormous error of imagining that symbols are somehow more real than what they stand for. Their word-worship did not go without protest. “Only the spirit,” said St. Paul, “gives life; the letter kills.” “And why,” asks Eckhart, “why do you prate of God? Whatever you say of God is untrue.” At the other end of the world the author of one of the Mahayana sutras affirmed that “the truth was never preached by the Buddha, seeing that you have to realize it within yourself”. Such utterances were felt to be profoundly subversive, and respectable people ignored them. The strange idolatrous overestimation of words and emblems continued unchecked. Religions declined; but the old habit of formulating creeds and imposing belief in dogmas persisted even among the atheists.',\n  'In recent years logicians and semanticists have carried out a very thorough analysis of the symbols, in terms of which men do their thinking. Linguistics has become a science, and one may even study a subject to which the late Benjamin Whorf gave the name of metalinguistics. All this is greatly to the good; but it is not enough. Logic and semantics, linguistics and metalinguistics – these are purely intellectual disciplines. They analyse the various ways, correct and incorrect, meaningful and meaningless, in which words can be related to things, processes and events. But they offer no guidance, in regard to the much more fundamental problem of the relationship of man in his psychophysical totality, on the one hand, and his two worlds, of data and of symbols, on the other.',\n  'In every region and at every period of history, the problem has been repeatedly solved by individual men and women. Even when they spoke or wrote, these individuals created no systems – for they knew that every system is a standing temptation to take symbols too seriously, to pay more attention to words than to the realities for which the words are supposed to stand. Their aim was never to offer ready-made explanations and panaceas; it was to induce people to diagnose and cure their own ills, to get them to go to the place where man’s problem and its solution present themselves directly to experience.',\n  'In this volume of selections from the writings and recorded talks of Krishnamurti, the reader will find a clear contemporary statement of the fundamental human problem, together with an invitation to solve it in the only way in which it can be solved – for and by himself. The collective solutions, to which so many so desperately pin their faith, are never adequate. “To understand the misery and confusion that exist within ourselves, and so in the world, we must first find clarity within ourselves, and that clarity comes about through right thinking. This clarity is not to be organized, for it cannot be exchanged with another. Organized group thought is merely repetitive. Clarity is not the result of verbal assertion, but of intense self-awareness and right thinking. Right thinking is not the outcome of or mere cultivation of the intellect, nor is it conformity to pattern, however worthy and noble. Right thinking comes with self-knowledge. Without understanding yourself, you have no basis for thought; without self-knowledge, what you think is not true.”',\n  'This fundamental theme is developed by Krishnamurti in passage after passage. “There is hope in men, not in society, not in systems, organized religious systems, but in you and in me.” Organized religions, with their mediators, their sacred books, their dogmas, their hierarchies and rituals, offer only a false solution to the basic problem. “When you quote the Bhagavad Gita, or the Bible, or some Chinese Sacred Book, surely you are merely repeating, are you not? And what you are repeating is not the truth. It is a lie; for truth cannot be repeated.” A lie can be extended, propounded and repeated, but not truth; and when you repeat truth, it ceases to be truth, and therefore sacred books are unimportant. It is through self-knowledge, not through belief in somebody else’s symbols, that a man comes to the eternal reality, in which his being is grounded. Belief in the complete adequacy and superlative value of any given symbol-system leads not to liberation, but to history, to more of the same old disasters. “Belief inevitably separates. If you have a belief, or when you seek security in your particular belief, you become separated from those who seek security in some other form of belief. All organized beliefs are based on separation, though they may preach brotherhood.” The man who has successfully solved the problem of his relations with the two worlds of data and symbols, is a man who has no beliefs. With regard to the problems of practical life he entertains a series of working hypotheses, which serve his purposes, but are taken no more seriously than any other kind of tool or instrument. With regard to his fellow beings and to the reality in which they are grounded, he has the direct experiences of love and insight. It is to protect himself from beliefs that Krishnamurti has “not read any sacred literature, neither the Bhagavad Gita nor the Upanishads”. The rest of us do not even read sacred literature; we read our favourite newspapers, magazines and detective stories. This means that we approach the crisis of our times, not with love and insight, but “with formulas, with systems” – and pretty poor formulas and systems at that. But “men of good will should not have formulas; for formulas lead, inevitably, only to “blind thinking”. Addiction to formulas is almost universal. Inevitably so; for “our system of upbringing is based upon what to think, not on how to think”. We are brought up as believing and practising members of some organization – the Communist or the Christian, the Moslem, the Hindu, the Buddhist, the Freudian. Consequently “you respond to the challenge, which is always new, according to an old pattern; and therefore your response has no corresponding validity, newness, freshness. If you respond as a Catholic or a Communist, you are responding – are you not? – according to a patterned thought. Therefore your response has no significance. And has not the Hindu, the Mussulman, the Buddhist, the Christian created this problem? As the new religion is the worship of the State, so the old religion was the worship of an idea.” If you respond to a challenge according to the old conditioning, your response will not enable you to understand the new challenge. Therefore what “one has to do, in order to meet the new challenge, is to strip oneself completely, denude oneself entirely of the background and meet the challenge anew”. In other words symbols should never be raised to the rank of dogmas, nor should any system be regarded as more than a provisional convenience. Belief in formulas and action in accordance with these beliefs cannot bring us to a solution of our problem. “It is only through creative understanding of ourselves that there can be a creative world, a happy world, a world in which ideas do not exist.” A world in which ideas do not exist would be a happy world, because it would be a world without the powerful conditioning forces which compel men to undertake inappropriate action, a world without the hallowed dogmas in terms of which the worst crimes are justified, the greatest follies elaborately rationalized.',\n  'An education that teaches us not how but what to think is an education that calls for a governing class of pastors and masters. But “the very idea of leading somebody is anti-social and anti-spiritual”. To the man who exercises it, leadership brings gratification of the craving for power; to those who are led, it brings the gratification of the desire for certainty and security. The guru provides a kind of dope. But, it may be asked, “What are you doing? Are you not acting as our guru?” “Surely,” Krishnamurti answers, “I am not acting as your guru, because, first of all, I am not giving you any gratification. I am not telling you what you should do from moment to moment, or from day to day, but I am just pointing out something to you; you can take it or leave it, depending on you, not on me. I do not demand a thing from you, neither your worship, nor your flattery, nor your insults, nor your gods. I say, This is a fact; take it or leave it. And most of you will leave it, for the obvious reason that you do not find gratification in it.”',\n  'What is it precisely that Krishnamurti offers? What is it that we can take if we wish, but in all probability shall prefer to leave? It is not, as we have seen, a system of beliefs, a catalogue of dogmas, a set of ready-made notions and ideals. It is not leadership, not mediation, not spiritual direction, not even example. It is not ritual, not a church, not a code, not uplift or any form of inspirational twaddle.',\n  'Is it, perhaps, self-discipline? No; for self-discipline is not, as a matter of brute fact, the way in which our problem can be solved. In order to find the solution, the mind must open itself to reality, must confront the givenness of the outer and inner worlds without preconceptions or restrictions. (God’s service is perfect freedom. Conversely, perfect freedom is the service of God.) In becoming disciplined, the mind undergoes no radical change; it is the old self, but “tethered, held in control”.',\n  'Self-discipline joins the list of things which Krishnamurti does not offer. Can it be, then, that what he offers is prayer? Again, the reply is in the negative. “Prayer may bring you the answer you seek; but that answer may come from your unconscious, or from the general reservoir, the storehouse of all your demands. The answer is not the still voice of God.” Consider, Krishnamurti goes on, “what happens when you pray. By constant repetition of certain phrases, and by controlling your thoughts, the mind becomes quiet, doesn’t it? At least, the conscious mind becomes quiet. You kneel as the Christians do, or you sit as the Hindus do, and you repeat and repeat, and through that repetition the mind becomes quiet. In that quietness there is the intimation of something. That intimation of something, for which you have prayed, may be from the unconscious, or it may be the response of your memories. But, surely, it is not the voice of reality; for the voice of reality must come to you; it cannot be appealed to, you cannot pray to it. You cannot entice it into your little cage by doing puja, bhajan and all the rest of it, by offering it flowers, by placating it, by suppressing yourself or emulating others. Once you have learned the trick of quietening the mind, through the repetition of words, and of receiving hints in that quietness, the danger is – unless you are fully alert as to whence those hints come – that you will be caught, and then prayer becomes a substitute for the search for Truth. That which you ask for you get; but it is not the truth. If you want, and if you petition, you will receive, but you will pay for it in the end.”',\n  'From prayer we pass to yoga, and yoga, we find, is another of the things which Krishnamurti does not offer. For yoga is concentration, and concentration is exclusion. “You build a wall of resistance by concentration on a thought which you have chosen, and you try to ward off all the others.” What is commonly called meditation is merely “the cultivation of resistance, of exclusive concentration on an idea of our choice”. But what makes you choose? “What makes you say this is good, true, noble, and the rest is not? Obviously the choice is based on pleasure, reward or achievement; or it is merely a reaction of one’s conditioning or tradition. Why do you choose at all? Why not examine every thought? When you are interested in the many, why choose one? Why not examine every interest? Instead of creating resistance, why not go into each interest as it arises, and not merely concentrate on one idea, one interest? After all, you are made up of many interests, you have many masks, consciously and unconsciously. Why choose one and discard all the others, in combating which you spend all your energies, thereby creating resistance, conflict and friction. Whereas if you consider every thought as it arises – every thought, not just a few thoughts – then there is no exclusion. But it is an arduous thing to examine every thought. Because, as you are looking at one thought, another slips in. But if you are aware without domination or justification, you will see that, by merely looking at that thought, no other thought intrudes. It is only when you condemn, compare, approximate, that other thoughts enter in.”',\n  '“Judge not that ye be not judged.” The gospel precept applies to our dealings with ourselves no less than to our dealings with others. Where there is judgement, where there is comparison and condemnation, openness of mind is absent; there can be no freedom from the tyranny of symbols and systems, no escape from the past and the environment. Introspection with a predetermined purpose, self-examination within the framework of some traditional code, some set of hallowed postulates – these do not, these cannot help us. There is a transcendent spontaneity of life, a ‘creative Reality’, as Krishnamurti calls it, which reveals itself as immanent only when the perceiver’s mind is in a state of ‘alert passivity’, of ‘choiceless awareness’. Judgement and comparison commit us irrevocably to duality. Only choiceless awareness can lead to non-duality, to the reconciliation of opposites in a total understanding and a total love. Ama et fac quod vis. If you love, you may do what you will. But if you start by doing what you will, or by doing what you don’t will in obedience to some traditional system or notions, ideals and prohibitions, you will never love. The liberating process must begin with the choiceless awareness of what you will and of your reactions to the symbol-system which tells you that you ought, or ought not, to will it. Through this choiceless awareness, as it penetrates the successive layers of the ego and its associated subconscious, will come love and understanding, but of another order than that with which we are ordinarily familiar. This choiceless awareness – at every moment and in all the circumstances of life – is the only effective meditation. All other forms of yoga lead either to the blind thinking which results from self-discipline, or to some kind of self-induced rapture, some form of false samadhi. The true liberation is “an inner freedom of creative Reality”. This “is not a gift; it is to be discovered and experienced. It is not an acquisition to be gathered to yourself to glorify yourself. It is a state of being, as silence, in which there is no becoming, in which there is completeness. This creativeness may not necessarily seek expression; it is not a talent that demands outward manifestation. You need not be a great artist or have an audience; if you seek these, you will miss the inward Reality. It is neither a gift, nor is it the outcome of talent; it is to be found, this imperishable treasure, where thought frees itself from lust, ill will and ignorance, where thought frees itself from worldliness and personal craving to be. It is to be experienced through right thinking and meditation.” Choiceless self-awareness will bring us to the creative Reality which underlies all our destructive make-believes, to the tranquil wisdom which is always there, in spite of ignorance, in spite of the knowledge which is merely ignorance in another form. Knowledge is an affair of symbols and is, all too often, a hindrance to wisdom, to the uncovering of the self from moment to moment. A mind that has come to the stillness of wisdom “shall know being, shall know what it is to love. Love is neither personal nor impersonal. Love is love, not to be defined or described by the mind as exclusive or inclusive. Love is its own eternity; it is the real, the supreme, the immeasurable.”',\n  '......'\n]","import { db } from '../db/database';\nimport Book from '../model/Book';\nimport TheFirstAndLastFreedom from '../../assets/text/The-first-and-last-freedom';\n\nexport function queryByFile(file: File) {\n  return db.books.get({\n    name: file.name,\n    size: file.size,\n  });\n}\n\nexport function save(file: File, paragraphCount: number) {\n  const book: Book = new Book(file.name, file.size, paragraphCount);\n\n  return db.books.put(book);\n}\n\nexport function saveDefault() {\n  const book: Book = new Book('The first and last freedom', 233, TheFirstAndLastFreedom.length);\n\n  return db.books.put(book);\n}\n\nexport function selectOne(id: number) {\n  return db.books.get(id);\n}\n\nexport function getAll() {\n  return db.books.toArray();\n}\n\nexport function update(key, changes) {\n  return db.books.update(key, changes);\n}\n\nexport function deleteBook(bookId: number) {\n  return db.books.delete(bookId);\n}\n","import { IParagraph, db } from '../db/database';\n\nexport default class Paragraph implements IParagraph {\n  id: number;\n  bookId: number;\n  text: string;\n  index: number;\n  createTime: number;\n\n  constructor(text: string, index: number, bookId: number, createTime?: number, id?: number) {\n    this.text = text;\n    this.index = index;\n    this.bookId = bookId;\n    if (createTime) {\n      this.createTime = createTime;\n    } else {\n      this.createTime = Number(new Date());\n    }\n\n    if (id) {\n      this.id = id;\n    }\n  }\n}\n\ndb.paragraphs.mapToClass(Paragraph);\n","import { db } from '../db/database';\nimport Paragraph from '../model/Paragraph';\n\nexport function save(bookId: number, text: string, index: number) {\n  const paragraph: Paragraph = new Paragraph(text, index, bookId);\n\n  return db.paragraphs.put(paragraph);\n}\n\nexport function bulkSave(bookId: number, texts: string[]) {\n  const paragraphs = texts.map((text, index) => {\n    return new Paragraph(text, index, bookId);\n  });\n\n  return db.paragraphs.bulkPut(paragraphs);\n}\n\nexport function queryByIndex(bookId: number, index: number) {\n  return db.paragraphs.get({\n    bookId,\n    index,\n  });\n}\n\nexport function update(key, changes) {\n  return db.paragraphs.update(key, changes);\n}\n\nexport function search(bookId: number, text: string) {\n  return db.paragraphs\n    .where({ bookId })\n    .filter((paragraph) => {\n      return paragraph.text.indexOf(text) !== -1;\n    })\n    .toArray();\n}\n\nexport function deleteByBookId(bookId: number) {\n  return db.paragraphs.where('bookId').equals(bookId).delete();\n}\n","export interface CodeMsg {\n  code: number;\n  msg: string;\n}\n\nexport const OK: CodeMsg = {\n  code: 0,\n  msg: 'ok',\n};\nexport const BAD_REQUEST = {\n  code: 400,\n  msg: 'bad request',\n};\nexport const PARAMS_ERROR = {\n  code: 101,\n  msg: 'params error',\n};\nexport const EXISTS = {\n  code: 102,\n  msg: 'record exists',\n};\n\nexport const NOT_EXISTS = {\n  code: 103,\n  msg: 'record not exists',\n};\n","import * as Code from '../common/code';\n\nexport default class Response<T> {\n  code: number;\n  message: string;\n  data?: T;\n\n  constructor(codeMsg: Code.CodeMsg) {\n    this.code = codeMsg.code;\n    this.message = codeMsg.msg;\n  }\n\n  static ok<O>(data: O) {\n    const instance = new Response<O>(Code.OK);\n\n    instance.data = data;\n\n    return instance;\n  }\n\n  static error(codeMsg: Code.CodeMsg) {\n    const instance = new Response<null>(codeMsg);\n\n    return instance;\n  }\n}\n","import * as bookService from '../service/bookService';\nimport * as paragraphService from '../service/paragraphService';\nimport { STORAGE_LOCAL } from '../../common/constant';\nimport Response from '../common/response';\nimport * as Code from '../common/code';\nimport { IBook, IParagraph, db } from '../db/database';\nimport TheFirstAndLastFreedom from '../../assets/text/The-first-and-last-freedom';\n\nexport async function saveBook(file: File, paragraphs: string[]): Promise<Response<number> | Response<null>> {\n  if (file && paragraphs && paragraphs.length > 0) {\n    const book = await bookService.queryByFile(file);\n\n    if (!book) {\n      const result: number = await bookService.save(file, paragraphs.length);\n\n      if (result) {\n        await paragraphService.bulkSave(result, paragraphs);\n      }\n\n      return Response.ok(result);\n    } else {\n      return Response.error(Code.EXISTS);\n    }\n  } else {\n    return Response.error(Code.PARAMS_ERROR);\n  }\n}\n\nexport async function setDefaultBook() {\n  const bid = await bookService.saveDefault();\n\n  if (bid) {\n    await paragraphService.bulkSave(bid, TheFirstAndLastFreedom);\n    await chrome.storage.sync.set({\n      [STORAGE_LOCAL.CURRENT_BOOK_ID]: bid,\n    });\n  }\n  return Response.ok(bid);\n}\n\nexport async function info(id: number): Promise<Response<IBook> | Response<null>> {\n  if (id) {\n    const result = await bookService.selectOne(id);\n\n    if (result) {\n      return Response.ok(result);\n    } else {\n      return Response.error(Code.NOT_EXISTS);\n    }\n  } else {\n    return Response.error(Code.PARAMS_ERROR);\n  }\n}\n\nexport async function deleteBook(bookId: number): Promise<Response<boolean> | Response<null>> {\n  if (bookId) {\n    await bookService.deleteBook(bookId);\n    await paragraphService.deleteByBookId(bookId);\n\n    return Response.ok(true);\n  } else {\n    return Response.error(Code.PARAMS_ERROR);\n  }\n}\n\nexport async function updateBook(bookId: number, changes: object): Promise<Response<number> | Response<null>> {\n  if (bookId) {\n    const result = await bookService.update(bookId, changes);\n\n    return Response.ok(result);\n  } else {\n    return Response.error(Code.PARAMS_ERROR);\n  }\n}\n\nexport async function getList(): Promise<Response<IBook[]>> {\n  const result = await bookService.getAll();\n\n  return Response.ok(result);\n}\n\nexport function setCurrentBook(bookId: number) {\n  return chrome.storage.sync.set({\n    [STORAGE_LOCAL.CURRENT_BOOK_ID]: bookId,\n  });\n}\n\nexport function getCurrentBook(): Promise<number> {\n  return chrome.storage.sync.get(STORAGE_LOCAL.CURRENT_BOOK_ID).then((resp) => {\n    return resp[STORAGE_LOCAL.CURRENT_BOOK_ID];\n  });\n}\n"],"names":["BookMode","BookMode2","Book","name","size","paragraphCount","createTime","id","mode","cursor","__publicField","db","TheFirstAndLastFreedom","queryByFile","file","save","book","saveDefault","selectOne","getAll","update","key","changes","deleteBook","bookId","Paragraph","text","index","bulkSave","texts","paragraphs","queryByIndex","search","paragraph","deleteByBookId","OK","PARAMS_ERROR","EXISTS","NOT_EXISTS","Response","codeMsg","data","instance","Code.OK","saveBook","bookService.queryByFile","Code.EXISTS","result","bookService.save","paragraphService.bulkSave","Code.PARAMS_ERROR","setDefaultBook","bid","bookService.saveDefault","STORAGE_LOCAL","info","bookService.selectOne","Code.NOT_EXISTS","bookService.deleteBook","paragraphService.deleteByBookId","updateBook","bookService.update","getList","bookService.getAll","setCurrentBook","getCurrentBook","resp"],"mappings":"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"}